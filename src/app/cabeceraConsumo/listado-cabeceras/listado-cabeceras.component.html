<!-- titulo---->
<br>
<div class="d-flex justify-content-center">
  <h2 class="text-title">
    {{ titulo }}
  </h2>
</div>


<!----boton----->
<div class="m-3 px-4">
  <button class="btn btn-success btn-sm" routerLink="../nuevo">Agregar Venta
  </button>&nbsp;&nbsp;&nbsp;
</div>


<!----tabla----->
<div class="d-flex justify-content-center">
  <table mat-table [dataSource]="lista" class="col-md-11 mat-elevation-z1">

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef > Id </th>
      <td mat-cell *matCellDef="let element"> {{element.id}} </td>
    </ng-container>

    <ng-container matColumnDef="fecha">
      <th mat-header-cell *matHeaderCellDef > Fecha </th>
      <!----td mat-cell *matCellDef="let element"> {{element.fecha | date:'mediumDate'}} </td---->
      <td mat-cell *matCellDef="let element"> {{element.fecha }} </td>
    </ng-container>

    <ng-container matColumnDef="factura">
      <th mat-header-cell *matHeaderCellDef > NÂ° Factura </th>
      <td mat-cell *matCellDef="let element"> {{element.factura}} </td>
    </ng-container>

    <ng-container matColumnDef="cliente">
      <th mat-header-cell *matHeaderCellDef > Cliente </th>
      <td mat-cell *matCellDef="let element"> {{element.cliente.nombre}} </td>
    </ng-container>

    <ng-container matColumnDef="total">
      <th mat-header-cell *matHeaderCellDef > Total </th>
      <td mat-cell *matCellDef="let element"> {{element.total}} </td>
    </ng-container>

    <ng-container matColumnDef="detalle">
      <th mat-header-cell *matHeaderCellDef > Detalles </th>
      <td mat-cell *matCellDef="let element">

<!--          <table mat-table [dataSource]="element" class="col-md-4 mat-elevation-z1">-->

<!--            <ng-container matColumnDef="producto">-->
<!--              <th mat-header-cell *matHeaderCellDef > Producto </th>-->
<!--              <td mat-cell *matCellDef="let element"> {{element.detalles.producto.nombre}} </td>-->
<!--            </ng-container>-->

<!--            <ng-container matColumnDef="cantidad">-->
<!--              <th mat-header-cell *matHeaderCellDef > Cantidad </th>-->
<!--              <td mat-cell *matCellDef="let element"> {{element.detalles.cantidad}} </td>-->
<!--            </ng-container>-->

<!--            <ng-container matColumnDef="precio">-->
<!--              <th mat-header-cell *matHeaderCellDef > Cantidad </th>-->
<!--              <td mat-cell *matCellDef="let element"> {{element.detalles.producto.precioVenta}} </td>-->
<!--            </ng-container>-->

<!--            <ng-container matColumnDef="total">-->
<!--              <th mat-header-cell *matHeaderCellDef > Total </th>-->
<!--              <td mat-cell *matCellDef="let element"> {{element.detalles.totalDetalle}} </td>-->
<!--            </ng-container>-->

<!--            <tr mat-header-row *matHeaderRowDef="displayedColumnsdetalle"></tr>-->
<!--            <tr mat-row *matRowDef="let row; columns: displayedColumnsdetalle;"></tr>-->

<!--            <tr class="mat-row" *matNoDataRow>-->
<!--              <td class="mat-cell" colspan="6" style="text-align: center;">No hay datos</td>-->
<!--            </tr>-->

<!--          </table>-->


      </td>
    </ng-container>

    <!----columna acciones---->
    <ng-container matColumnDef="acciones">
      <th mat-header-cell *matHeaderCellDef> Acciones </th>
      <td mat-cell *matCellDef="let element">
        <button class="btn btn-primary btn-sm " [routerLink]="'../'+ element.id + '/vista'">Detalles</button>
        <button class="btn btn-danger btn-sm "  (click)="delete(element.id)" >Eliminar</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let element; columns: displayedColumns;"></tr>

    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="6" style="text-align: center;">No hay datos</td>
    </tr>

  </table>
</div>

<div class="d-flex justify-content-center">
  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" class="col-md-11 mat-elevation-z1">
  </mat-paginator>
</div>

<br>
<br>
<br>
